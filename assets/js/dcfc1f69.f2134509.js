"use strict";(self.webpackChunkmy_doc_website=self.webpackChunkmy_doc_website||[]).push([[4787],{6050:a=>{a.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"Middleware Laravel 12","metadata":{"permalink":"/web/blog/Middleware Laravel 12","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2025-07-02-middleware-laravel-12/index.md","source":"@site/blog/2025-07-02-middleware-laravel-12/index.md","title":"Memahami cara kerja Midellware pada Laravel 12","description":"Middleware menyediakan mekanisme yang mudah untuk memeriksa dan memfilter permintaan HTTP yang masuk ke aplikasi Anda. Misalnya, Laravel menyertakan middleware yang memverifikasi bahwa pengguna aplikasi Anda telah diautentikasi. Jika pengguna tidak diautentikasi, middleware akan mengarahkan pengguna ke layar login aplikasi Anda. Namun, jika pengguna diautentikasi, middleware akan memungkinkan permintaan untuk berlanjut lebih jauh ke dalam aplikasi.[1]","date":"2025-07-02T00:00:00.000Z","tags":[{"inline":true,"label":"Tutorial","permalink":"/web/blog/tags/tutorial"},{"inline":true,"label":"Laravel","permalink":"/web/blog/tags/laravel"},{"inline":true,"label":"Web","permalink":"/web/blog/tags/web"},{"inline":true,"label":"Web Software Developer","permalink":"/web/blog/tags/web-software-developer"}],"readingTime":5.59,"hasTruncateMarker":false,"authors":[{"name":"Jihadul Akbar","title":"Lecturer of STMIK Lombok","url":"https://github.com/jihadul4kbar","page":{"permalink":"/web/blog/authors/jihadul-4-kbar"},"socials":{"x":"https://x.com/Jihadul4kbar","github":"https://github.com/jihadul4kbar"},"imageURL":"https://jihadul4kbar.github.io/assets/img/jihadulakbar.png","key":"jihadul4kbar"}],"frontMatter":{"slug":"Middleware Laravel 12","title":"Memahami cara kerja Midellware pada Laravel 12","authors":["jihadul4kbar"],"tags":["Tutorial","Laravel","Web","Web Software Developer"]},"unlisted":false,"nextItem":{"title":"Setup widgets for monitoring port on LibreLMS","permalink":"/web/blog/Add widgets monitoring port on Libre LMS"}},"content":"Middleware menyediakan mekanisme yang mudah untuk memeriksa dan memfilter permintaan HTTP yang masuk ke aplikasi Anda. Misalnya, Laravel menyertakan middleware yang memverifikasi bahwa pengguna aplikasi Anda telah diautentikasi. Jika pengguna tidak diautentikasi, middleware akan mengarahkan pengguna ke layar login aplikasi Anda. Namun, jika pengguna diautentikasi, middleware akan memungkinkan permintaan untuk berlanjut lebih jauh ke dalam aplikasi.[1]\\r\\n\\r\\n## Membuat User Autentikasi\\r\\nMembuat autentikasi pengguna dengan Laravel 12, menggunakan role yang disimpan di dalam tabel users dengan tahapan sebagai berikut.\\r\\n### 1. Menambahkan kolom role pada tabel ```user```.\\r\\nBuka file migrasi ```database/migrations/xxxx_xx_xx_create_users_table.php```\\r\\nTambahkan kode berikut di bagian kolom tabel:\\r\\n```php title=\\"database/migrations/xxxx_xx_xx_create_users_table.php\\"\\r\\n     $table->enum(\'role\', [\'admin\', \'petugas\', \'pimpinan\'])->default(\'petugas\');\\r\\n```\\r\\nkode ini berfungsi untuk membuat role dengan tiga lever user yakni ```admin, petugas, dan pimpinan``` dimana role secara bawaannya adalah ```petugas```.\\r\\n\\r\\nJalankan migrasi untuk update struktur tabel pada database :\\r\\n```php artisan migrate:fresh```\\r\\n```migrate:fresh``` akan menghapus semua tabel lalu menjalankan ulang semua migrasi dari awal.\\r\\n### 2. Tambahkan Konstanta Role di ```Model User```\\r\\n```php title=\\"app/Models/User.php\\"\\r\\n    protected $fillable = [\\r\\n        \'name\',\\r\\n        \'email\',\\r\\n        \'password\',\\r\\n        \'role\', // Tambahkan atribut role\\r\\n    ];\\r\\n\\r\\n    // Helper methods untuk check role\\r\\n    public function isAdmin()\\r\\n    {\\r\\n        return $this->role === \'admin\';\\r\\n    }\\r\\n\\r\\n    public function isPetugas()\\r\\n    {\\r\\n        return $this->role === \'petugas\';\\r\\n    }\\r\\n\\r\\n    public function isPimpinan()\\r\\n    {\\r\\n        return $this->role === \'pimpinan\';\\r\\n    }\\r\\n```\\r\\nPenjelasan\\r\\n``` \'role\', // Tambahkan atribut role```\\r\\nAtribut role ditambahkan agar bisa menyimpan peran pengguna, seperti admin, petugas, atau pimpinan.\\r\\n```\\r\\n    public function isAdmin()\\r\\n    {\\r\\n        return $this->role === \'admin\';\\r\\n    }\\r\\n```\\r\\nFungsi ini mengembalikan true jika nilai role dari user adalah \'admin\'.\\r\\nFungsinya untuk memudahkan pengecekan apakah user adalah admin.\\r\\nKode ini merupakan bagian dari sistem manajemen user dengan role-based access. Dengan adanya helper method seperti isAdmin(), kamu bisa lebih mudah mengatur hak akses di controller, middleware, atau view, contohnya:\\r\\n```\\r\\nif (auth()->user()->isAdmin()) {\\r\\n    // Akses khusus untuk admin\\r\\n}\\r\\n```\\r\\n### 3. Membuat Middleware Role\\r\\nJalankan perintah berikut untuk membuat middleware CheckRole\\r\\n```\\r\\nphp artisan make:middleware CheckRole\\r\\n```\\r\\nGanti isi file CheckRole dengan kode berikut\\r\\n```php title=\\"app/Http/Middleware/CheckRole.php\\"\\r\\n<?php\\r\\nnamespace App\\\\Http\\\\Middleware;\\r\\n\\r\\nuse Closure;\\r\\nuse Illuminate\\\\Http\\\\Request;\\r\\nuse Illuminate\\\\Support\\\\Facades\\\\Auth;\\r\\nuse Symfony\\\\Component\\\\HttpFoundation\\\\Response;\\r\\n\\r\\nclass CheckRole\\r\\n{\\r\\n    public function handle(Request $request, Closure $next, ...$roles)\\r\\n    {\\r\\n        if(!Auth::check()) {\\r\\n            return redirect(\'/login\'); // Redirect to login if not authenticated\\r\\n        }\\r\\n\\r\\n        if(!in_array(Auth::user()->role, $roles)) {\\r\\n            abort(403, \'Unauthorized\');\\r\\n        }\\r\\n\\r\\n        return $next($request);\\r\\n    }\\r\\n}\\r\\n```\\r\\nPenjelasan \\r\\n\\r\\n```...$roles```: Mengizinkan kita mengirim lebih dari satu role.\\r\\n\\r\\n```in_array(...)```: Cek apakah role user cocok dengan salah satu role yang diizinkan.\\r\\n\\r\\n```abort(403)```: Jika tidak cocok, akses ditolak.\\r\\n### 4. Daftarkan Middleware Role ke Kernel\\r\\nAgar midlleware dapat berfungsi perlu dilakukan register middleware pada ```bootstrap/app.php```\\r\\ntambahkan kode berikut pada pada file app.php\\r\\n```php title=\\"bootstrap/app.php\\"\\r\\n<?php\\r\\nuse App\\\\Http\\\\Middleware\\\\CheckRole;\\r\\nuse Illuminate\\\\Foundation\\\\Application;\\r\\nuse Illuminate\\\\Foundation\\\\Configuration\\\\Exceptions;\\r\\nuse Illuminate\\\\Foundation\\\\Configuration\\\\Middleware;\\r\\n\\r\\nreturn Application::configure(basePath: dirname(__DIR__))\\r\\n    ->withRouting(\\r\\n        web: __DIR__.\'/../routes/web.php\',\\r\\n        commands: __DIR__.\'/../routes/console.php\',\\r\\n        health: \'/up\',\\r\\n    )\\r\\n    ->withMiddleware(function (Middleware $middleware): void {\\r\\n        // Register alias middleware (untuk digunakan pada route)\\r\\n        $middleware->alias([\'role\' => CheckRole::class]);\\r\\n    })\\r\\n    ->withExceptions(function (Exceptions $exceptions): void {\\r\\n        //\\r\\n    })->create();\\r\\n```\\r\\nperhatikan pada bagian ``` $middleware->alias([\'role\' => CheckRole::class]);```\\r\\ndigunakan untuk memberi nama ```role``` untuk middleware kita agar bisa digunakan dalam route seperti``` middleware(\'role:admin\')```.\\r\\n\\r\\n### 5. Routing Berdasarkan Role\\r\\n``` php title=\\"routes/web.php\\"\\r\\nuse Illuminate\\\\Support\\\\Facades\\\\Route;\\r\\n\\r\\nRoute::get(\'/\', function () {\\r\\n    return view(\'welcome\');\\r\\n});\\r\\n\\r\\n// Semua user yang sudah login\\r\\nRoute::middleware([\'auth\'])->group(function () {\\r\\n    Route::get(\'/dashboard\', function () {\\r\\n        return view(\'dashboard\');\\r\\n    });\\r\\n    // Khusus admin\\r\\n    Route::middleware([\'role:admin\'])->group(function () {\\r\\n        Route::get(\'/admin\', function () {\\r\\n            return \\"Selamat datang Admin!\\";\\r\\n        });\\r\\n       // Route::resource(\'user\', UserController::class);\\r\\n    });\\r\\n    // Khusus petugas biasa\\r\\n    Route::middleware([\'role:petugas\'])->group(function () {\\r\\n        Route::get(\'/petugas\', function () {\\r\\n            return \\"Selamat datang petugas!\\";\\r\\n        });\\r\\n        //Route::resource(\'/petugas\', FiturPetugasController::class);\\r\\n    });\\r\\n    // Khusus pimpinan biasa\\r\\n    Route::middleware([\'role:Pimpinan\'])->group(function () {\\r\\n        Route::get(\'/pimpinan\', function () {\\r\\n            return \\"Selamat datang Pimpinan!\\";\\r\\n        });\\r\\n        //Route::resource(\'/lapaoran\', LaporanController::class);\\r\\n    });\\r\\n    // Khusus admin dan petugas biasa\\r\\n    Route::middleware([\'role:admin,petugas\'])->group(function () {\\r\\n        Route::get(\'/transaksi\', function () {\\r\\n            return \\"Selamat datang petugas atau admin!\\";\\r\\n        });\\r\\n        //Route::resource(\'/transaksi\', TransaksiController::class);\\r\\n    });\\r\\n});\\r\\n\\r\\n```\\r\\nPenjelasan:\\r\\n\\r\\nMiddleware ```auth:``` Pastikan hanya user login yang bisa akses.\\r\\n\\r\\nMiddleware ```role:admin```: Hanya bisa diakses user yang role-nya \'admin\'.\\r\\n\\r\\nMiddleware ```role:petugas```: Hanya untuk user dengan role petugas.\\r\\n\\r\\nMiddleware ```role:pimpinan```: Hanya untuk user dengan role pimpinan.\\r\\n\\r\\nMiddleware ```role:admin,petugas```: Hanya untuk user role admin dan petugas.\\r\\n\\r\\n### 6. Menambah user ke dalam tabel user berdasarkan role\\r\\njalankan perintah pada terminal \\r\\n```\\r\\nphp artisan tinker\\r\\n```\\r\\n\\r\\nselanjutnya tambahkan user dengan perintah berikut \\r\\n```\\r\\nDB::table(\'users\')->insert([\'name\' => \'Admin\',\'email\' => \'admin@contoh.com\',\'password\' => Hash::make(\'12345678\'),\'role\' => \'admin\']);\\r\\n```\\r\\nperintah untuk menambah user dengan nama ```Admin, email admin@contoh.com, password 12345678 dan role admin```\\r\\n\\r\\n```\\r\\nDB::table(\'users\')->insert([\'name\' => \'Petugas\',\'email\' => \'petugas@contoh.com\',\'password\' => Hash::make(\'12345678\'),\'role\' => \'petugas\']);\\r\\n```\\r\\nperintah untuk menambah user dengan nama ```Petugas, email petugas@contoh.com, password 12345678 dan role petugas```\\r\\n```\\r\\nDB::table(\'users\')->insert([\'name\' => \'Pimpinan\',\'email\' => \'pimpinan@contoh.com\',\'password\' => Hash::make(\'12345678\'),\'role\' => \'pimpinan\']);\\r\\n```\\r\\nperintah untuk menambah user dengan nama ```Pimpinan, email pimpinan@contoh.com, password 12345678 dan role pimpinan```\\r\\n\\r\\n### 7. Membuat Login dan Logout \\r\\njalankan perintah berikut untuk membuat ```AuthController.php``` pada folder Auth\\r\\n```\\r\\nphp artisan make:controller Auth/AuthController\\r\\n```\\r\\nsetelah berhasil maka buka file tersebut dan isi dengan kode berikut\\r\\n```php title=\\"app\\\\Http\\\\Controllers\\\\Auth\\\\AuthController.php\\"\\r\\n<?php\\r\\nnamespace App\\\\Http\\\\Controllers\\\\Auth;\\r\\n\\r\\nuse Illuminate\\\\Http\\\\Request;\\r\\nuse App\\\\Http\\\\Requests\\\\LoginRequest;\\r\\nuse App\\\\Http\\\\Controllers\\\\Controller;\\r\\nuse Illuminate\\\\Support\\\\Facades\\\\Auth;\\r\\n\\r\\nclass AuthController extends Controller\\r\\n{\\r\\n    public function showLoginForm()\\r\\n    {\\r\\n        return view(\'auth.login\');\\r\\n    }\\r\\n\\r\\n    public function login(Request $request)\\r\\n    {\\r\\n        // Validasi input\\r\\n        $credentials = $request->validate([\\r\\n            \'email\' => \'required|email\',\\r\\n            \'password\' => \'required|min:6\',\\r\\n        ]);\\r\\n\\r\\n        // Coba login\\r\\n        if (Auth::attempt($credentials)) {\\r\\n            $user = Auth::user();\\r\\n            return redirect()->route(\'dashboard\'); // Redirect ke dashboard setelah login\\r\\n        }\\r\\n\\r\\n        // Jika gagal, kembalikan dengan error\\r\\n        return back()->withErrors([\\r\\n            \'email\' => \'Email atau password salah.\',\\r\\n        ])->withInput();\\r\\n    }\\r\\n    public function logout(Request $request)\\r\\n    {\\r\\n        Auth::logout();\\r\\n        $request->session()->invalidate();\\r\\n        $request->session()->regenerateToken();\\r\\n        return redirect(\'/login\')->with(\'status\', \'Anda telah berhasil logout.\');\\r\\n    }\\r\\n}\\r\\n\\r\\n```\\r\\nmembuat halaman login pada folder auth dengan nama login.blade.php\\r\\n\\r\\n```php title=\\"resources\\\\views\\\\auth\\\\login.blade.php\\"\\r\\n      <form action=\\"{{ route(\'login\') }}\\" method=\\"POST\\">\\r\\n        @csrf\\r\\n          <input type=\\"email\\" name=\\"email\\" required autocomplete=\\"email\\" autofocus placeholder=\\"Email\\">\\r\\n          @error(\'email\')\\r\\n              {{ $message }}\\r\\n          @enderror\\r\\n          <input type=\\"password\\" name=\\"password\\" placeholder=\\"Password\\" required autocomplete=\\"current-password\\">\\r\\n          @error(\'password\')\\r\\n              {{ $message }}\\r\\n          @enderror\\r\\n            <button type=\\"submit\\">Sign In</button>\\r\\n      </form>\\r\\n```\\r\\nSelanjutnya membuat halaman dashbord.blade.php \\r\\n```php title=\\"resources\\\\views\\\\dashbord.blade.php\\"\\r\\n<h3>Selamat datang {{ auth()->user()->name }}</h3>\\r\\n      Role : {{ auth()->user()->role }}\\r\\n  </div>\\r\\n\\r\\n  // untuk menamilkan menu berdasarkan user login \\r\\n\\r\\n  @if(auth()->user()isAdmin())\\r\\n  Menu Untuk Admin\\r\\n    <a href=\\"\\">Menu Untuk Admin</a>\\r\\n  @endif\\r\\n        \\r\\n  @if(auth()->user()isPetugas())\\r\\n    Menu Untuk Pegugas\\r\\n    <a href=\\"\\">Menu Untuk Petugas</a>\\r\\n  @endif\\r\\n\\r\\n  @if(auth()->user()isPimpinan())\\r\\n    Menu Untuk Pimpinan\\r\\n    <a href=\\"\\">Menu Untuk pimpinan</a>\\r\\n  @endif\\r\\n\\r\\n  //link untuk logout\\r\\n    <form method=\\"POST\\" action=\\"{{ route(\'logout\') }}\\">\\r\\n        @csrf\\r\\n        <button type=\\"submit\\">Logout</button>\\r\\n    </form>\\r\\n\\r\\n```\\r\\n### Route Lengkap\\r\\nberikut route lengkapnya \\r\\n``` php title=\\"routes/web.php\\"\\r\\nuse Illuminate\\\\Support\\\\Facades\\\\Route;\\r\\nuse App\\\\Http\\\\Controllers\\\\Auth\\\\AuthController;\\r\\n\\r\\nRoute::get(\'/\', function () {\\r\\n    return view(\'welcome\');\\r\\n});\\r\\n// Auth Routes\\r\\nRoute::controller(AuthController::class)->group(function () {\\r\\n    Route::get(\'login\', \'showLoginForm\')->name(\'login\');\\r\\n    Route::post(\'login\', \'login\');\\r\\n    Route::post(\'logout\', \'logout\')->name(\'logout\');\\r\\n});\\r\\n// Semua user yang sudah login\\r\\nRoute::middleware([\'auth\'])->group(function () {\\r\\n    Route::get(\'/dashboard\', function () {\\r\\n        return view(\'dashboard\');\\r\\n    });\\r\\n    // Khusus admin\\r\\n    Route::middleware([\'role:admin\'])->group(function () {\\r\\n        Route::get(\'/admin\', function () {\\r\\n            return \\"Selamat datang Admin!\\";\\r\\n        });\\r\\n       // Route::resource(\'user\', UserController::class);\\r\\n    });\\r\\n    // Khusus petugas biasa\\r\\n    Route::middleware([\'role:petugas\'])->group(function () {\\r\\n        Route::get(\'/petugas\', function () {\\r\\n            return \\"Selamat datang petugas!\\";\\r\\n        });\\r\\n        //Route::resource(\'/petugas\', FiturPetugasController::class);\\r\\n    });\\r\\n    // Khusus pimpinan biasa\\r\\n    Route::middleware([\'role:Pimpinan\'])->group(function () {\\r\\n        Route::get(\'/pimpinan\', function () {\\r\\n            return \\"Selamat datang Pimpinan!\\";\\r\\n        });\\r\\n        //Route::resource(\'/lapaoran\', LaporanController::class);\\r\\n    });\\r\\n    // Khusus admin dan petugas biasa\\r\\n    Route::middleware([\'role:admin,petugas\'])->group(function () {\\r\\n        Route::get(\'/transaksi\', function () {\\r\\n            return \\"Selamat datang petugas atau admin!\\";\\r\\n        });\\r\\n        //Route::resource(\'/transaksi\', TransaksiController::class);\\r\\n    });\\r\\n});\\r\\n```\\r\\n## Refrensi\\r\\n[1] https://laravel.com/docs/12.x/middleware"},{"id":"Add widgets monitoring port on Libre LMS","metadata":{"permalink":"/web/blog/Add widgets monitoring port on Libre LMS","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2025-01-18-add-widget-monitoring-librelms/index.md","source":"@site/blog/2025-01-18-add-widget-monitoring-librelms/index.md","title":"Setup widgets for monitoring port on LibreLMS","description":"Docusaurus blogging features are powered by the blog plugin.","date":"2025-01-18T00:00:00.000Z","tags":[{"inline":false,"label":"tutorial","permalink":"/web/blog/tags/Tutorial","description":"Tutorial peyelesian masalah dari aktivitas kerja."},{"inline":true,"label":"libreLMS","permalink":"/web/blog/tags/libre-lms"},{"inline":true,"label":"Network","permalink":"/web/blog/tags/network"}],"readingTime":0.455,"hasTruncateMarker":true,"authors":[{"name":"Jihadul Akbar","title":"Lecturer of STMIK Lombok","url":"https://github.com/jihadul4kbar","page":{"permalink":"/web/blog/authors/jihadul-4-kbar"},"socials":{"x":"https://x.com/Jihadul4kbar","github":"https://github.com/jihadul4kbar"},"imageURL":"https://jihadul4kbar.github.io/assets/img/jihadulakbar.png","key":"jihadul4kbar"},{"name":"Hadi Wijaya","title":"Lombok Cyber Community Organizer","url":"https://github.com/hadyanwijaya","page":{"permalink":"/web/blog/authors/hadyanwijaya"},"socials":{"x":"https://x.com/hadyanwijaya","github":"https://github.com/hadyanwijaya"},"imageURL":"https://avatars.githubusercontent.com/u/11438225?v=4","key":"hadyanwijaya"},{"name":"Hairul Fahmi","title":"Lecturer of STMIK Lombok","url":"https://github.com/hairulfhm","page":{"permalink":"/web/blog/authors/hairulfhm"},"socials":{"x":"https://x.com/hairulfhm","github":"https://github.com/hairulfhm"},"imageURL":"https://avatars.githubusercontent.com/u/28390561?v=4","key":"hairulfhm"}],"frontMatter":{"slug":"Add widgets monitoring port on Libre LMS","title":"Setup widgets for monitoring port on LibreLMS","authors":["jihadul4kbar","hadyanwijaya","hairulfhm"],"tags":["tutorial","libreLMS","Network"]},"unlisted":false,"prevItem":{"title":"Memahami cara kerja Midellware pada Laravel 12","permalink":"/web/blog/Middleware Laravel 12"}},"content":"[Docusaurus blogging features](https://docusaurus.io/docs/blog) are powered by the [blog plugin](https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-blog).\\r\\n\\r\\nHere are a few tips you might find useful.\\r\\n\\r\\n\x3c!-- truncate --\x3e\\r\\n\\r\\nSimply add Markdown files (or folders) to the `blog` directory.\\r\\n\\r\\nRegular blog authors can be added to `authors.yml`.\\r\\n\\r\\nThe blog post date can be extracted from filenames, such as:\\r\\n\\r\\n- `2019-05-30-welcome.md`\\r\\n- `2019-05-30-welcome/index.md`\\r\\n\\r\\nA blog post folder can be convenient to co-locate blog post images:\\r\\n\\r\\n\\r\\nThe blog supports tags as well!\\r\\n\\r\\n**And if you don\'t want a blog**: just delete this directory, and use `blog: false` in your Docusaurus config."}]}}')}}]);